<!--
  ~ Copyright (c) 2020. tgm - Die Schule der Technik
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<header class="container-fluid navbar navbar-expand-sm navbar-dark bg-dark">
  <a routerLink="/" class="navbar-brand">TGM-Schulplaner</a>
  <!-- Toggler -->
  <button class="navbar-toggler" type="button" (click)="isMenuCollapsed=
    !isMenuCollapsed">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" [ngbCollapse]="isMenuCollapsed">
    <ul class="navbar-nav ml-auto">
      <!-- Suchleiste -->
      <li *ngIf="false">
        <form class="form-inline">
          <div class="md-form my-0">
            <input class="form-control mr-sm-2"
              type="text"
              placeholder="Suchen"
              aria-label="Search">
          </div>
        </form>
      </li>
      <!-- User Icon -->
      <li class="nav-item" ngbDropdown display="dynamic"
        placement="bottom-right">
        <a id="user" class="nav-link" ngbDropdownToggle>
          <ng-template #login>Login&nbsp;</ng-template>
          <span *ngIf="user else login">{{ user.name }}&nbsp;</span>
          <fa-icon [icon]="userIcon" size="lg"></fa-icon>
        </a>
        <app-login *ngIf="!user" ngbDropdownMenu></app-login>
        <div *ngIf="user" ngbDropdownMenu>
          <a ngbDropdownItem routerLink="view">Benutzer Ansicht</a>
          <a ngbDropdownItem routerLink="settings">Einstellungen</a>
          <div class="dropdown-divider"></div>
          <button ngbDropdownItem (click)="logout()">Logout</button>
        </div>
      </li>
    </ul>
  </div>
</header>
